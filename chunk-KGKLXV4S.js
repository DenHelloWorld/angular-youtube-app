import{l as oe,v as ne}from"./chunk-PSBNDFIU.js";import{a as ie}from"./chunk-2RCK3KAT.js";import{Ab as Z,Bb as ee,Ca as L,Cb as te,Da as u,Ea as v,Fa as M,Ga as q,K as R,L as E,O as h,Pa as k,Pb as f,Q as C,Qa as G,Qb as F,R as T,Rb as D,Ua as w,cb as j,da as o,db as O,eb as B,fb as d,gb as P,hb as U,ia as g,ja as n,kb as K,la as m,lb as $,ma as r,mb as H,na as s,nb as J,oa as y,ob as z,pa as I,ra as A,sa as l,sb as Q,tb as W,wa as p,wb as b,ya as _,yb as X,zb as Y}from"./chunk-XKM5X6NZ.js";var re=[{condition:e=>new Date(e)<=new Date,message:"The creation date is invalid"}];function ae(){return ie(re)}var N=(()=>{class e{constructor(){this.formBuilder=h(z),this.store=h(oe)}initForm(){this.adminForm=this.formBuilder.group({title:["",[d.required,d.minLength(3),d.maxLength(20)]],description:["",[d.maxLength(255)]],linkImg:["",[d.required]],linkVideo:["",[d.required]],creationDate:["",[d.required,ae()]],tags:this.formBuilder.array([this.createTagControl()],[d.required])}),this.initAdminFormState=this.adminForm.value}createTagControl(){return this.formBuilder.control(["Tag"],[d.required])}get tags(){return this.adminForm.get("tags")}onReset(){this.adminForm.reset(this.initAdminFormState)}onSubmit(){let t=this.adminForm.value;this.store.dispatch(ne({card:t})),this.adminForm.reset(this.initAdminFormState)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function pe(e,a){if(e&1&&(m(0,"small",4),p(1),r()),e&2){let t=l(2);o(),_(" ",t.config.requiredMessage," ")}}function ue(e,a){if(e&1&&(m(0,"small",5),p(1),r()),e&2){let t=l(2);o(),_(" ",t.config.validMessage," ")}}function fe(e,a){if(e&1&&(m(0,"small",4),p(1),r()),e&2){let t=l(2);o(),_(" ",t.config.initialMessage," ")}}function ge(e,a){if(e&1&&(m(0,"small",7),p(1),r()),e&2){let t=l().$implicit;o(),_(" ",t.message," ")}}function Ce(e,a){if(e&1&&(y(0),g(1,ge,2,1,"small",6),I()),e&2){let t=a.$implicit,i=l(2);o(),n("ngIf",i.config.control.hasError(t.key)&&(i.config.control.touched||i.config.control.dirty))}}function _e(e,a){if(e&1&&(m(0,"small",7),p(1),r()),e&2){let t=l().$implicit,i=l(3);o(),_(" ",i.config.customErrorMessages[t]," ")}}function ve(e,a){if(e&1&&(y(0),g(1,_e,2,1,"small",6),I()),e&2){let t=a.$implicit,i=l(3);o(),n("ngIf",i.config.control.hasError(t)&&(i.config.control.touched||i.config.control.dirty))}}function Fe(e,a){if(e&1&&(y(0),g(1,ve,2,1,"ng-container",3),I()),e&2){let t=l(2);o(),n("ngForOf",t.customErrorKeys)}}function xe(e,a){if(e&1&&(y(0),g(1,pe,2,1,"small",1)(2,ue,2,1,"small",2)(3,fe,2,1,"small",1)(4,Ce,2,1,"ng-container",3)(5,Fe,2,1,"ng-container",0),I()),e&2){let t=l();o(),n("ngIf",t.config.control.hasError("required")),o(),n("ngIf",t.config.control.valid&&(t.config.control.touched||t.config.control.dirty)),o(),n("ngIf",!t.config.control.dirty&&!t.config.control.touched),o(),n("ngForOf",t.config.errorMessages),o(),n("ngIf",t.config.customErrorMessages)}}var V=(()=>{class e{get customErrorKeys(){return this.config.customErrorMessages?Object.keys(this.config.customErrorMessages):[]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=C({type:e,selectors:[["app-custom-validation-info"]],inputs:{config:"config"},standalone:!0,features:[L],decls:1,vars:1,consts:[[4,"ngIf"],["class","font-extralight",4,"ngIf"],["class","text-green-500",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"font-extralight"],[1,"text-green-500"],["class","font-extralight text-red-500",4,"ngIf"],[1,"font-extralight","text-red-500"]],template:function(i,c){i&1&&g(0,xe,6,5,"ng-container",0),i&2&&n("ngIf",c.config.control)},dependencies:[w,k,G,W],encapsulation:2})}}return e})();var Me=()=>({key:"minlength",message:"The title is too short"}),Se=()=>({key:"maxlength",message:"The title is too long"}),Ee=(e,a)=>[e,a],Te=(e,a)=>({control:e,requiredMessage:"Please enter a title",validMessage:"The title is valid",errorMessages:a}),ke=e=>({control:e,requiredMessage:"Please enter a link to image",validMessage:"The link to image is valid."}),be=e=>({control:e,requiredMessage:"Please enter a link to video",validMessage:"The link to video is valid"}),De=()=>[],Ne=e=>({customValidator:e}),Ve=(e,a,t)=>({control:e,requiredMessage:"Please enter a creation date",validMessage:"The creation date is valid",errorMessages:a,customErrorMessages:t}),Ae=()=>({key:"maxlength",message:"The description is too long"}),Oe=e=>[e],Re=(e,a)=>({control:e,validMessage:"Description is valid",errorMessages:a}),Le=e=>({control:e,requiredMessage:"Tags are invalid",validMessage:"Tags are valid",initialMessage:"Just type and hit Enter"}),qe=(e,a)=>({raised:e,type:"submit",disabled:a}),Ge=()=>({raised:!0,label:"Reset Card"});function we(e,a){if(e&1&&(m(0,"div"),s(1,"p-chips",18),r()),e&2){let t=a.index;o(),n("formControlName",t)("max",5)}}var me=(()=>{class e{constructor(){this.creationCardFormService=h(N)}ngOnInit(){this.creationCardFormService.initForm()}ngOnDestroy(){this.onReset()}get tags(){return this.creationCardFormService.tags}get adminForm(){return this.creationCardFormService.adminForm}onReset(){this.creationCardFormService.onReset()}onSubmit(){this.creationCardFormService.onSubmit()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=C({type:e,selectors:[["app-creation-card-form"]],decls:32,vars:44,consts:[[3,"ngSubmit","formGroup"],[1,"text-center","flex","flex-col","gap-3"],[1,"text-center","flex","flex-col"],["iconPosition","right"],["styleClass","pi pi-pencil"],["placeholder","Title","formControlName","title","pInputText","","id","create-card-title","type","text","aria-describedby","title"],[3,"config"],["styleClass","pi pi-link"],["placeholder","Link to Image","formControlName","linkImg","pInputText","","id","linkImg","type","text","aria-describedby","create-card-link-img"],["placeholder","Link to Video","formControlName","linkVideo","pInputText","","id","linkVideo","type","text","aria-describedby","create-card-link-video"],["formControlName","creationDate","placeholder","Date(not future)",3,"showIcon","iconDisplay"],["id","description","placeholder","Description(up to 255 symbols)","pInputTextarea","","formControlName","description"],["legend","Tags",1,"text-center","m-4"],["formArrayName","tags",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"text-center","flex","justify-center","gap-4"],[1,"app-custom-button",3,"config"],[1,"app-custom-button",3,"clickEmitter","config"],["placeholder","1 to 5 tags are expected",3,"formControlName","max"]],template:function(i,c){if(i&1&&(m(0,"form",0),A("ngSubmit",function(){return c.onSubmit()}),m(1,"div",1)(2,"div",2)(3,"p-iconField",3),s(4,"p-inputIcon",4)(5,"input",5),r(),s(6,"app-custom-validation-info",6),r(),m(7,"div",2)(8,"p-iconField",3),s(9,"p-inputIcon",7)(10,"input",8),r(),s(11,"app-custom-validation-info",6),r(),m(12,"div",2)(13,"p-iconField",3),s(14,"p-inputIcon",7)(15,"input",9),r(),s(16,"app-custom-validation-info",6),r(),m(17,"div",2),s(18,"p-calendar",10)(19,"app-custom-validation-info",6),r(),m(20,"div",2)(21,"textarea",11),p(22,"      "),r(),s(23,"app-custom-validation-info",6),r(),m(24,"p-fieldset",12)(25,"form",13),g(26,we,2,2,"div",14),s(27,"app-custom-validation-info",6),r()(),m(28,"div",15)(29,"app-custom-button",16),p(30,"Create Card"),r(),m(31,"app-custom-button",17),A("clickEmitter",function(){return c.onReset()}),r()()()()),i&2){let x;n("formGroup",c.adminForm),o(6),n("config",M(18,Te,c.creationCardFormService.adminForm.get("title"),M(15,Ee,u(13,Me),u(14,Se)))),o(5),n("config",v(21,ke,c.creationCardFormService.adminForm.get("linkImg"))),o(5),n("config",v(23,be,c.creationCardFormService.adminForm.get("linkVideo"))),o(2),n("showIcon",!0)("iconDisplay","input"),o(),n("config",q(28,Ve,c.creationCardFormService.adminForm.get("creationDate"),u(25,De),v(26,Ne,(x=c.creationCardFormService.adminForm.get("creationDate"))==null||x.errors==null?null:x.errors.customValidator))),o(4),n("config",M(35,Re,c.creationCardFormService.adminForm.get("description"),v(33,Oe,u(32,Ae)))),o(2),n("formGroup",c.creationCardFormService.adminForm),o(),n("ngForOf",c.tags.controls),o(),n("config",v(38,Le,c.creationCardFormService.adminForm.get("tags"))),o(2),n("config",M(40,qe,c.creationCardFormService.adminForm.valid,!c.creationCardFormService.adminForm.valid)),o(2),n("config",u(43,Ge))}},dependencies:[F,V,K,B,P,U,$,J,H,k,b,X,Y,Q,te,ee,Z],encapsulation:2})}}return e})();var Be=()=>({raised:!0,icon:"pi pi-angle-double-left",label:"to main"}),Pe=()=>["/main"],ce=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=C({type:e,selectors:[["app-admin"]],decls:4,vars:4,consts:[["legend","Create new card",1,"text-center","m-4"],[1,"text-start"],[3,"config","routerLink"]],template:function(i,c){i&1&&(m(0,"p-fieldset",0)(1,"div",1),s(2,"app-custom-button",2),r(),s(3,"app-creation-card-form"),r()),i&2&&(o(2),n("config",u(2,Be))("routerLink",u(3,Pe)))},dependencies:[j,F,b,me],encapsulation:2})}}return e})();var Ue=[{path:"",component:ce}],se=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=T({type:e})}static{this.\u0275inj=E({imports:[O.forChild(Ue),O]})}}return e})();var bt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=T({type:e})}static{this.\u0275inj=E({providers:[N],imports:[se,F,V,D.FormsModule,D.ReactiveFormsModule,D.CommonModule,f.FieldsetModule,f.InputIconModule,f.IconFieldModule,f.InputTextModule,f.InputTextareaModule,f.CalendarModule,f.ChipsModule,f.ChipModule]})}}return e})();export{bt as AdminModule};
