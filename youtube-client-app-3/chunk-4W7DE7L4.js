import{l as ne,v as re}from"./chunk-CMLQADZH.js";import{a as ae}from"./chunk-2RCK3KAT.js";import{Ca as R,Da as f,Ea as F,Fa as S,Ga as j,L as A,M as E,O,Oa as k,Pa as w,R as _,S as T,Sb as g,Ta as B,Tb as x,Ub as D,ab as P,bb as q,cb as U,da as i,db as d,ea as G,eb as K,fb as $,hb as H,ia as C,ib as J,ja as n,jb as z,kb as Q,la as c,lb as W,ma as a,na as l,oa as y,pa as I,pb as X,qb as Y,ra as L,sa as p,tb as b,vb as Z,wa as u,wb as ee,xb as te,ya as v,yb as ie,zb as oe}from"./chunk-NLXPBHEF.js";var me=[{condition:e=>new Date(e)<=new Date,message:"The creation date is invalid"}];function ce(){return ae(me)}var N=(()=>{let t=class t{constructor(r,m){this.formBuilder=r,this.store=m}initForm(){this.adminForm=this.formBuilder.group({title:["",[d.required,d.minLength(3),d.maxLength(20)]],description:["",[d.maxLength(255)]],linkImg:["",[d.required]],linkVideo:["",[d.required]],creationDate:["",[d.required,ce()]],tags:this.formBuilder.array([this.createTagControl()],[d.required])}),this.initAdminFormState=this.adminForm.value}createTagControl(){return this.formBuilder.control(["Tag"],[d.required])}get tags(){return this.adminForm.get("tags")}onReset(){this.adminForm.reset(this.initAdminFormState)}onSubmit(){let r=this.adminForm.value;this.store.dispatch(re({card:r})),this.adminForm.reset(this.initAdminFormState)}};t.\u0275fac=function(m){return new(m||t)(O(W),O(ne))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ce(e,t){if(e&1&&(c(0,"small",4),u(1),a()),e&2){let o=p(2);i(),v(" ",o.config.requiredMessage," ")}}function _e(e,t){if(e&1&&(c(0,"small",5),u(1),a()),e&2){let o=p(2);i(),v(" ",o.config.validMessage," ")}}function ve(e,t){if(e&1&&(c(0,"small",4),u(1),a()),e&2){let o=p(2);i(),v(" ",o.config.initialMessage," ")}}function Fe(e,t){if(e&1&&(c(0,"small",7),u(1),a()),e&2){let o=p().$implicit;i(),v(" ",o.message," ")}}function xe(e,t){if(e&1&&(y(0),C(1,Fe,2,1,"small",6),I()),e&2){let o=t.$implicit,r=p(2);i(),n("ngIf",r.config.control.hasError(o.key)&&(r.config.control.touched||r.config.control.dirty))}}function he(e,t){if(e&1&&(c(0,"small",7),u(1),a()),e&2){let o=p().$implicit,r=p(3);i(),v(" ",r.config.customErrorMessages[o]," ")}}function ye(e,t){if(e&1&&(y(0),C(1,he,2,1,"small",6),I()),e&2){let o=t.$implicit,r=p(3);i(),n("ngIf",r.config.control.hasError(o)&&(r.config.control.touched||r.config.control.dirty))}}function Ie(e,t){if(e&1&&(y(0),C(1,ye,2,1,"ng-container",3),I()),e&2){let o=p(2);i(),n("ngForOf",o.customErrorKeys)}}function Se(e,t){if(e&1&&(y(0),C(1,Ce,2,1,"small",1)(2,_e,2,1,"small",2)(3,ve,2,1,"small",1)(4,xe,2,1,"ng-container",3)(5,Ie,2,1,"ng-container",0),I()),e&2){let o=p();i(),n("ngIf",o.config.control.hasError("required")),i(),n("ngIf",o.config.control.valid&&(o.config.control.touched||o.config.control.dirty)),i(),n("ngIf",!o.config.control.dirty&&!o.config.control.touched),i(),n("ngForOf",o.config.errorMessages),i(),n("ngIf",o.config.customErrorMessages)}}var V=(()=>{let t=class t{get customErrorKeys(){return this.config.customErrorMessages?Object.keys(this.config.customErrorMessages):[]}};t.\u0275fac=function(m){return new(m||t)},t.\u0275cmp=_({type:t,selectors:[["app-custom-validation-info"]],inputs:{config:"config"},standalone:!0,features:[R],decls:1,vars:1,consts:[[4,"ngIf"],["class","font-extralight",4,"ngIf"],["class","text-green-500",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"font-extralight"],[1,"text-green-500"],["class","font-extralight text-red-500",4,"ngIf"],[1,"font-extralight","text-red-500"]],template:function(m,s){m&1&&C(0,Se,6,5,"ng-container",0),m&2&&n("ngIf",s.config.control)},dependencies:[B,k,w,Y],encapsulation:2});let e=t;return e})();var ke=()=>({key:"minlength",message:"The title is too short"}),be=()=>({key:"maxlength",message:"The title is too long"}),De=(e,t)=>[e,t],Ne=(e,t)=>({control:e,requiredMessage:"Please enter a title",validMessage:"The title is valid",errorMessages:t}),Ve=e=>({control:e,requiredMessage:"Please enter a link to image",validMessage:"The link to image is valid."}),Oe=e=>({control:e,requiredMessage:"Please enter a link to video",validMessage:"The link to video is valid"}),Le=()=>[],qe=e=>({customValidator:e}),Ae=(e,t,o)=>({control:e,requiredMessage:"Please enter a creation date",validMessage:"The creation date is valid",errorMessages:t,customErrorMessages:o}),Ge=()=>({key:"maxlength",message:"The description is too long"}),Re=e=>[e],je=(e,t)=>({control:e,validMessage:"Description is valid",errorMessages:t}),we=e=>({control:e,requiredMessage:"Tags are invalid",validMessage:"Tags are valid",initialMessage:"Just type and hit Enter"}),Be=(e,t)=>({raised:e,type:"submit",disabled:t}),Pe=()=>({raised:!0,label:"Reset Card"});function Ue(e,t){if(e&1&&(c(0,"div"),l(1,"p-chips",18),a()),e&2){let o=t.index;i(),n("formControlName",o)("max",5)}}var se=(()=>{let t=class t{constructor(r){this.creationCardFormService=r}ngOnInit(){this.creationCardFormService.initForm()}ngOnDestroy(){this.onReset()}get tags(){return this.creationCardFormService.tags}get adminForm(){return this.creationCardFormService.adminForm}onReset(){this.creationCardFormService.onReset()}onSubmit(){this.creationCardFormService.onSubmit()}};t.\u0275fac=function(m){return new(m||t)(G(N))},t.\u0275cmp=_({type:t,selectors:[["app-creation-card-form"]],decls:32,vars:44,consts:[[3,"ngSubmit","formGroup"],[1,"text-center","flex","flex-col","gap-3"],[1,"text-center","flex","flex-col"],["iconPosition","right"],["styleClass","pi pi-pencil"],["placeholder","Title","formControlName","title","pInputText","","id","create-card-title","type","text","aria-describedby","title"],[3,"config"],["styleClass","pi pi-link"],["placeholder","Link to Image","formControlName","linkImg","pInputText","","id","linkImg","type","text","aria-describedby","create-card-link-img"],["placeholder","Link to Video","formControlName","linkVideo","pInputText","","id","linkVideo","type","text","aria-describedby","create-card-link-video"],["formControlName","creationDate","placeholder","Date(not future)",3,"showIcon","iconDisplay"],["id","description","placeholder","Description(up to 255 symbols)","pInputTextarea","","formControlName","description"],["legend","Tags",1,"text-center","m-4"],["formArrayName","tags",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"text-center","flex","justify-center","gap-4"],[1,"app-custom-button",3,"config"],[1,"app-custom-button",3,"clickEmitter","config"],["placeholder","1 to 5 tags are expected",3,"formControlName","max"]],template:function(m,s){if(m&1&&(c(0,"form",0),L("ngSubmit",function(){return s.onSubmit()}),c(1,"div",1)(2,"div",2)(3,"p-iconField",3),l(4,"p-inputIcon",4)(5,"input",5),a(),l(6,"app-custom-validation-info",6),a(),c(7,"div",2)(8,"p-iconField",3),l(9,"p-inputIcon",7)(10,"input",8),a(),l(11,"app-custom-validation-info",6),a(),c(12,"div",2)(13,"p-iconField",3),l(14,"p-inputIcon",7)(15,"input",9),a(),l(16,"app-custom-validation-info",6),a(),c(17,"div",2),l(18,"p-calendar",10)(19,"app-custom-validation-info",6),a(),c(20,"div",2)(21,"textarea",11),u(22,"      "),a(),l(23,"app-custom-validation-info",6),a(),c(24,"p-fieldset",12)(25,"form",13),C(26,Ue,2,2,"div",14),l(27,"app-custom-validation-info",6),a()(),c(28,"div",15)(29,"app-custom-button",16),u(30,"Create Card"),a(),c(31,"app-custom-button",17),L("clickEmitter",function(){return s.onReset()}),a()()()()),m&2){let h;n("formGroup",s.adminForm),i(6),n("config",S(18,Ne,s.creationCardFormService.adminForm.get("title"),S(15,De,f(13,ke),f(14,be)))),i(5),n("config",F(21,Ve,s.creationCardFormService.adminForm.get("linkImg"))),i(5),n("config",F(23,Oe,s.creationCardFormService.adminForm.get("linkVideo"))),i(2),n("showIcon",!0)("iconDisplay","input"),i(),n("config",j(28,Ae,s.creationCardFormService.adminForm.get("creationDate"),f(25,Le),F(26,qe,(h=s.creationCardFormService.adminForm.get("creationDate"))==null||h.errors==null?null:h.errors.customValidator))),i(4),n("config",S(35,je,s.creationCardFormService.adminForm.get("description"),F(33,Re,f(32,Ge)))),i(2),n("formGroup",s.creationCardFormService.adminForm),i(),n("ngForOf",s.tags.controls),i(),n("config",F(38,we,s.creationCardFormService.adminForm.get("tags"))),i(2),n("config",S(40,Be,s.creationCardFormService.adminForm.valid,!s.creationCardFormService.adminForm.valid)),i(2),n("config",f(43,Pe))}},dependencies:[x,V,H,U,K,$,J,Q,z,k,b,Z,ee,X,oe,ie,te],encapsulation:2});let e=t;return e})();var $e=()=>({raised:!0,icon:"pi pi-angle-double-left",label:"to main page"}),He=()=>["/main"],le=(()=>{let t=class t{};t.\u0275fac=function(m){return new(m||t)},t.\u0275cmp=_({type:t,selectors:[["app-admin"]],decls:4,vars:4,consts:[["legend","Create new card",1,"text-center","m-4"],[1,"text-start"],[3,"config","routerLink"]],template:function(m,s){m&1&&(c(0,"p-fieldset",0)(1,"div",1),l(2,"app-custom-button",2),a(),l(3,"app-creation-card-form"),a()),m&2&&(i(2),n("config",f(2,$e))("routerLink",f(3,He)))},dependencies:[P,x,b,se],encapsulation:2});let e=t;return e})();var Je=[{path:"",component:le}],pe=(()=>{let t=class t{};t.\u0275fac=function(m){return new(m||t)},t.\u0275mod=T({type:t}),t.\u0275inj=E({imports:[q.forChild(Je),q]});let e=t;return e})();var Et=(()=>{let t=class t{};t.\u0275fac=function(m){return new(m||t)},t.\u0275mod=T({type:t}),t.\u0275inj=E({providers:[N],imports:[pe,x,V,D.FormsModule,D.ReactiveFormsModule,D.CommonModule,g.FieldsetModule,g.InputIconModule,g.IconFieldModule,g.InputTextModule,g.InputTextareaModule,g.CalendarModule,g.ChipsModule,g.ChipModule]});let e=t;return e})();export{Et as AdminModule};
