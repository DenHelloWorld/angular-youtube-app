import{a as f}from"./chunk-PRSYIMVF.js";import{a as v}from"./chunk-2RCK3KAT.js";import{Eb as W,Fa as O,L as D,M as c,O as S,Pa as L,R as V,S as d,Sb as s,Tb as g,Ub as h,bb as E,cb as z,da as r,db as y,ea as x,eb as G,fb as Z,hb as k,ia as _,ib as R,ja as m,kb as B,la as n,lb as q,ma as a,na as I,pb as H,ra as j,sa as C,tb as K,vb as U,wa as u,wb as $,ya as w}from"./chunk-NLXPBHEF.js";var J=[{condition:t=>/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/u.test(t),message:"Email must be like x@x.x"}];function Q(){return v(J)}var X=[{condition:t=>/[A-Z]/.test(t),message:"Password must contain at least one uppercase English letter."},{condition:t=>/[a-z]/.test(t),message:"Password must contain at least one lowercase English letter."},{condition:t=>/\d/.test(t),message:"Password must contain at least one digit."},{condition:t=>/[!@#?]/.test(t),message:"Password must contain at least one special character (!, @, #, ?)."},{condition:t=>t.length>=8,message:"Password must be at least 8 characters long."}];function Y(){return v(X)}var tt=(()=>{let e=class e{constructor(o,i){this.authService=o,this.formBuilder=i}initForm(){this.loginForm=this.formBuilder.group({username:["",[y.required,Q()]],password:["",[y.required,,Y()]]}),this.initLoginFormState=this.loginForm.value}onReset(){this.loginForm.reset(this.initLoginFormState)}onSubmit(){if(this.loginForm.valid){let{username:o,password:i}=this.loginForm.value;this.authService.login(o,i)}}};e.\u0275fac=function(i){return new(i||e)(S(f),S(q))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var at=(t,e)=>({raised:t,type:"submit",disabled:e});function lt(t,e){t&1&&(n(0,"small",11),u(1," Please enter a login email "),a())}function mt(t,e){if(t&1&&(n(0,"small",12),u(1),a()),t&2){let p,o=C();r(),w(" ",(p=o.authFormService.loginForm.get("username"))==null||p.errors==null?null:p.errors.customValidator," ")}}function st(t,e){t&1&&(n(0,"small",13),u(1," The login email is valid. "),a())}function ut(t,e){t&1&&(n(0,"small",11),u(1," Please enter a password "),a())}function pt(t,e){t&1&&(n(0,"small",13),u(1," The password is valid. "),a())}function ct(t,e){if(t&1&&(n(0,"small",12),u(1),a()),t&2){let p,o=C();r(),w(" ",(p=o.authFormService.loginForm.get("password"))==null||p.errors==null?null:p.errors.customValidator," ")}}var et=(()=>{let e=class e{constructor(o,i){this.authService=o,this.authFormService=i}ngOnInit(){this.authFormService.initForm()}ngOnDestroy(){this.authFormService.onReset()}onSubmit(){this.authFormService.onSubmit()}};e.\u0275fac=function(i){return new(i||e)(x(f),x(tt))},e.\u0275cmp=V({type:e,selectors:[["app-auth"]],decls:20,vars:13,consts:[["legend","Sign In",1,"w-full","text-center","m-4"],[1,"flex","flex-col","gap-3",3,"ngSubmit","formGroup"],[1,"text-center"],["iconPosition","right"],["styleClass","pi pi-sign-in"],["placeholder","mail@example.com","icon","pi pi-user","formControlName","username","pInputText","","id","username","type","text","aria-describedby","username-help"],["class","font-extralight",4,"ngIf"],["class","font-extralight text-red-500",4,"ngIf"],["class","text-green-500",4,"ngIf"],["placeholder","password","formControlName","password",3,"toggleMask","feedback"],[1,"app-custom-button",3,"config"],[1,"font-extralight"],[1,"font-extralight","text-red-500"],[1,"text-green-500"]],template:function(i,l){if(i&1&&(n(0,"p-fieldset",0)(1,"form",1),j("ngSubmit",function(){return l.onSubmit()}),n(2,"div")(3,"div",2)(4,"p-iconField",3),I(5,"p-inputIcon",4)(6,"input",5),a()(),n(7,"div"),_(8,lt,2,0,"small",6)(9,mt,2,1,"small",7)(10,st,2,0,"small",8),a()(),n(11,"div")(12,"div",2),I(13,"p-password",9),a(),_(14,ut,2,0,"small",6)(15,pt,2,0,"small",8)(16,ct,2,1,"small",7),a(),n(17,"div",2)(18,"app-custom-button",10),u(19,"Login"),a()()()()),i&2){let F,A,b,N,T,P;r(),m("formGroup",l.authFormService.loginForm),r(7),m("ngIf",(F=l.authFormService.loginForm.get("username"))==null?null:F.hasError("required")),r(),m("ngIf",((A=l.authFormService.loginForm.get("username"))==null?null:A.value)!=""),r(),m("ngIf",!((b=l.authFormService.loginForm.get("username"))!=null&&b.errors)),r(3),m("toggleMask",!0)("feedback",!1),r(),m("ngIf",(N=l.authFormService.loginForm.get("password"))==null?null:N.hasError("required")),r(),m("ngIf",!((T=l.authFormService.loginForm.get("password"))!=null&&T.errors)),r(),m("ngIf",((P=l.authFormService.loginForm.get("password"))==null?null:P.value)!=""),r(2),m("config",O(10,at,l.authFormService.loginForm.valid,!l.authFormService.loginForm.valid))}},dependencies:[g,L,k,z,G,Z,R,B,H,W,U,$,K],encapsulation:2});let t=e;return t})();var dt=[{path:"",component:et}],it=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d({type:e}),e.\u0275inj=c({imports:[E.forChild(dt),E]});let t=e;return t})();var Rt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d({type:e}),e.\u0275inj=c({imports:[g,it,h.CommonModule,h.ReactiveFormsModule,h.FormsModule,s.DividerModule,s.InputTextModule,s.CardModule,s.FloatLabelModule,s.PasswordModule,s.InputIconModule,s.IconFieldModule,s.ToolbarModule,s.FieldsetModule]});let t=e;return t})();export{Rt as AuthModule};
